<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Idonet+ | Ecosistema Docente PNFT 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --azure: #007FFF;
            --forest: #228B22;
            --slate: #1e293b;
            --light-slate: #64748b;
            --bg: #f8fafc;
            --white: #ffffff;
            --danger: #ef4444;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; }
        body { background: var(--bg); color: var(--slate); display: flex; min-height: 100vh; }

        /* --- NAVEGACI√ìN LATERAL --- */
        nav { 
            width: 260px; background: var(--slate); color: white; padding: 2rem 1.5rem; 
            display: flex; flex-direction: column; position: fixed; height: 100vh;
        }
        .logo { font-weight: 800; font-size: 1.6rem; margin-bottom: 2.5rem; letter-spacing: -1px; }
        .logo span { color: var(--forest); }
        .nav-link { 
            padding: 12px 16px; border-radius: 12px; cursor: pointer; transition: 0.3s; 
            margin-bottom: 0.5rem; color: #94a3b8; display: flex; align-items: center; gap: 10px;
        }
        .nav-link:hover, .nav-link.active { background: var(--azure); color: white; }

        /* --- √ÅREA PRINCIPAL --- */
        main { margin-left: 260px; flex: 1; padding: 2.5rem; max-width: 1200px; }
        .view { display: none; animation: slideIn 0.4s ease-out; }
        .view.active { display: block; }

        @keyframes slideIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

        /* --- COMPONENTES --- */
        .card { background: var(--white); border-radius: 20px; padding: 2rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-bottom: 2rem; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }

        /* --- DASHBOARD STATS --- */
        .stat-box { background: var(--white); padding: 1.5rem; border-radius: 16px; border-left: 5px solid var(--azure); }
        .stat-box h3 { font-size: 0.8rem; color: var(--light-slate); text-transform: uppercase; }
        .stat-box p { font-size: 2rem; font-weight: 800; }

        /* --- TIMER --- */
        .timer-display { font-size: 7rem; font-weight: 800; margin: 2rem 0; color: var(--slate); letter-spacing: -3px; }
        .controls button { 
            padding: 1rem 2.5rem; border-radius: 50px; border: none; font-weight: 700; 
            cursor: pointer; transition: 0.2s; font-size: 1rem;
        }
        .btn-start { background: var(--azure); color: white; }
        .btn-reset { background: #e2e8f0; color: var(--slate); margin-left: 10px; }

        /* --- SIMULADOR --- */
        .quiz-option { 
            padding: 1.2rem; border: 2px solid #e2e8f0; border-radius: 14px; 
            margin-bottom: 1rem; cursor: pointer; transition: 0.2s; font-weight: 500;
        }
        .quiz-option:hover { border-color: var(--azure); background: #f0f7ff; }
        .correct { background: #dcfce7 !important; border-color: var(--forest) !important; color: #166534; }
        .incorrect { background: #fee2e2 !important; border-color: var(--danger) !important; color: #991b1b; }

        /* --- CHAT TUTOR --- */
        .chat-container { height: 400px; overflow-y: auto; padding: 1rem; background: #f1f5f9; border-radius: 15px; margin-bottom: 1rem; }
        .msg { margin-bottom: 1rem; padding: 1rem; border-radius: 12px; max-width: 80% ; font-size: 0.95rem; }
        .msg-bot { background: var(--white); align-self: flex-start; border-bottom-left-radius: 2px; }
        .msg-user { background: var(--azure); color: white; margin-left: auto; border-bottom-right-radius: 2px; }

        input[type="text"] { width: 100%; padding: 1rem; border: 2px solid #e2e8f0; border-radius: 12px; outline: none; }
        input[type="text"]:focus { border-color: var(--azure); }
    </style>
</head>
<body>

    <nav>
        <div class="logo">Idonet<span>+</span></div>
        <div class="nav-link active" onclick="switchView('dash')">üè† Dashboard</div>
        <div class="nav-link" onclick="switchView('focus')">‚è±Ô∏è Enfoque Flow</div>
        <div class="nav-link" onclick="switchView('quiz')">üìù Simulador MEP</div>
        <div class="nav-link" onclick="switchView('tutor')">ü§ñ Tutor Virtual</div>
        
        <div style="margin-top: auto; background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 12px;">
            <p style="font-size: 0.8rem; color: #94a3b8;">Nivel de Maestr√≠a</p>
            <p style="font-weight: 600;">Docente Innovador</p>
            <div style="height: 6px; background: #334155; border-radius: 10px; margin-top: 8px;">
                <div style="width: 65%; height: 100%; background: var(--forest); border-radius: 10px;"></div>
            </div>
        </div>
    </nav>

    <main>
        <div id="dash" class="view active">
            <h1 style="margin-bottom: 1.5rem;">¬°Hola, Docente! üëã</h1>
            <div class="grid">
                <div class="stat-box"><h3>IdoPoints Acumulados</h3><p id="point-display">1,450</p></div>
                <div class="stat-box" style="border-left-color: var(--forest);"><h3>Racha de Estudio</h3><p>7 D√≠as</p></div>
                <div class="stat-box"><h3>M√≥dulos PNFT 2026</h3><p>4 / 12</p></div>
            </div>
            <div class="card">
                <h3>Tu Actividad Reciente</h3>
                <p style="color: var(--light-slate); margin-top: 10px;">Has completado 2 sesiones de enfoque hoy. ¬°Est√°s en el 5% superior!</p>
            </div>
        </div>

        <div id="focus" class="view">
            <div class="card" style="text-align: center;">
                <h2>Temporizador de Estado de Flow</h2>
                <p style="color: var(--light-slate);">Utiliza la t√©cnica Pomodoro (25 min) para optimizar tu neuroplasticidad.</p>
                <div class="timer-display" id="timer">25:00</div>
                <div class="controls">
                    <button class="btn-start" id="startBtn" onclick="toggleTimer()">Iniciar Enfoque</button>
                    <button class="btn-reset" onclick="resetTimer()">Reiniciar</button>
                </div>
            </div>
        </div>

        <div id="quiz" class="view">
            <div class="card" id="quiz-container">
                <span style="color: var(--azure); font-weight: 700; text-transform: uppercase; font-size: 0.8rem;">Pregunta de Idoneidad</span>
                <h2 id="question-text" style="margin: 1rem 0;">Cargando pregunta...</h2>
                <div id="options-container"></div>
                <div id="quiz-feedback" style="margin-top: 1.5rem; font-weight: 600; padding: 1rem; border-radius: 10px; display: none;"></div>
                <button class="btn-start" style="margin-top: 1rem; display: none;" id="next-btn" onclick="loadNextQuestion()">Siguiente Pregunta</button>
            </div>
        </div>

        <div id="tutor" class="view">
            <div class="card">
                <h2>Tutor IA: Consultas PNFT 2026</h2>
                <p style="color: var(--light-slate); margin-bottom: 1.5rem;">Preg√∫ntame sobre el DUA, metodolog√≠as STEAM o el sistema TecnoPresta.</p>
                <div class="chat-container" id="chat-box">
                    <div class="msg msg-bot">Hola. Soy tu asistente de Idonet+. ¬øEn qu√© lineamiento t√©cnico del MEP te puedo ayudar hoy?</div>
                </div>
                <input type="text" id="user-input" placeholder="Escribe tu duda aqu√≠ (ej. ¬øQu√© es el CBL?)" onkeypress="handleChat(event)">
            </div>
        </div>
    </main>

    <script>
        // --- L√ìGICA DE NAVEGACI√ìN ---
        function switchView(viewId) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            document.getElementById(viewId).classList.add('active');
            event.currentTarget.classList.add('active');
        }

        // --- L√ìGICA DEL TEMPORIZADOR ---
        let timeLeft = 25 * 60;
        let timerId = null;
        let points = 1450;

        function toggleTimer() {
            const btn = document.getElementById('startBtn');
            if (timerId) {
                clearInterval(timerId);
                timerId = null;
                btn.innerText = "Reanudar Enfoque";
            } else {
                btn.innerText = "Pausar";
                timerId = setInterval(() => {
                    timeLeft--;
                    updateTimerDisplay();
                    if (timeLeft <= 0) {
                        clearInterval(timerId);
                        alert("¬°Sesi√≥n terminada! Ganaste 100 IdoPoints.");
                        addPoints(100);
                        resetTimer();
                    }
                }, 1000);
            }
        }

        function resetTimer() {
            clearInterval(timerId);
            timerId = null;
            timeLeft = 25 * 60;
            updateTimerDisplay();
            document.getElementById('startBtn').innerText = "Iniciar Enfoque";
        }

        function updateTimerDisplay() {
            const m = Math.floor(timeLeft / 60);
            const s = timeLeft % 60;
            document.getElementById('timer').innerText = `${m}:${s < 10 ? '0'+s : s}`;
        }

        function addPoints(val) {
            points += val;
            document.getElementById('point-display').innerText = points;
        }

        // --- L√ìGICA DEL SIMULADOR (BANCO DE PREGUNTAS MEP) ---
        const questions = [
            {
                q: "¬øCu√°l es el enfoque principal del PNFT 2026 respecto a la tecnolog√≠a?",
                options: ["Uso instrumental de software comercial", "La tecnolog√≠a como objeto para pensar, idear y crear", "Sustituir al docente por plataformas"],
                correct: 1,
                feedback: "Correcto. El PNFT busca que la tecnolog√≠a sea un mediador para el desarrollo de habilidades del siglo XXI."
            },
            {
                q: "Seg√∫n la Circular DVM-009-05-2022, ¬øqu√© sistema se usa para el pr√©stamo de activos?",
                options: ["Saber MEP", "TecnoPresta", "Mochila Digital"],
                correct: 1,
                feedback: "Exacto. TecnoPresta facilita la gesti√≥n y pr√©stamo de dispositivos de forma remota."
            },
            {
                q: "¬øQu√© metodolog√≠a STEAM promueve resolver problemas mediante la empat√≠a y prototipado?",
                options: ["Design Thinking", "ABJ (Juegos)", "Clase Magistral"],
                correct: 0,
                feedback: "¬°Bien! El Design Thinking (Empatizar, Definir, Idear, Prototipar, Evaluar) es clave en STEAM."
            }
        ];

        let currentQ = 0;

        function loadQuestion() {
            const quiz = questions[currentQ];
            document.getElementById('question-text').innerText = quiz.q;
            const container = document.getElementById('options-container');
            container.innerHTML = "";
            document.getElementById('quiz-feedback').style.display = "none";
            document.getElementById('next-btn').style.display = "none";

            quiz.options.forEach((opt, i) => {
                const div = document.createElement('div');
                div.className = "quiz-option";
                div.innerText = opt;
                div.onclick = () => checkAnswer(i);
                container.appendChild(div);
            });
        }

        function checkAnswer(idx) {
            const quiz = questions[currentQ];
            const options = document.querySelectorAll('.quiz-option');
            const feedback = document.getElementById('quiz-feedback');
            
            if (idx === quiz.correct) {
                options[idx].classList.add('correct');
                feedback.innerText = "‚úÖ " + quiz.feedback;
                feedback.style.background = "#dcfce7";
                addPoints(50);
            } else {
                options[idx].classList.add('incorrect');
                feedback.innerText = "‚ùå No es correcto. " + quiz.feedback;
                feedback.style.background = "#fee2e2";
            }
            feedback.style.display = "block";
            document.getElementById('next-btn').style.display = "inline-block";
        }

        function loadNextQuestion() {
            currentQ = (currentQ + 1) % questions.length;
            loadQuestion();
        }

        // --- L√ìGICA DEL TUTOR CHAT ---
        function handleChat(e) {
            if (e.key === 'Enter') {
                const input = document.getElementById('user-input');
                const chatBox = document.getElementById('chat-box');
                if (input.value.trim() === "") return;

                // Mensaje Usuario
                chatBox.innerHTML += `<div class="msg msg-user">${input.value}</div>`;
                
                // Respuesta Simulada (Aqu√≠ se conectar√≠a con Gemini)
                const text = input.value.toLowerCase();
                let reply = "Interesante pregunta. Seg√∫n los lineamientos del PNFT 2026, eso se enfoca en el desarrollo de competencias digitales docentes.";
                
                if(text.includes("steam")) reply = "El enfoque STEAM en el MEP integra Ciencia, Tecnolog√≠a, Ingenier√≠a, Artes y Matem√°ticas para el aprendizaje basado en proyectos.";
                if(text.includes("dua")) reply = "El Dise√±o Universal para el Aprendizaje (DUA) es obligatorio para garantizar la inclusi√≥n y flexibilidad curricular.";

                setTimeout(() => {
                    chatBox.innerHTML += `<div class="msg msg-bot">${reply}</div>`;
                    chatBox.scrollTop = chatBox.scrollHeight;
                }, 600);

                input.value = "";
            }
        }

        // Iniciar
        loadQuestion();
    </script>
</body>
</html>
